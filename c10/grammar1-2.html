<!DOCTYPE html>
<html lang="ko">
<head>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NB76SV96');</script>
<!-- End Google Tag Manager -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¨¹ë˜ ì‚¬ê³¼, ë¨¹ì€ ì‚¬ê³¼ (-ë˜ vs -(ìœ¼)ã„´) í•™ìŠµ ê²Œì„</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
        }
        .feedback-anim {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .quiz-option {
            transition: all 0.2s;
        }
        #review-modal, #explanation-area {
            animation: fadeIn 0.3s ease-in-out;
        }
        @keyframes combo-pop {
            0% { transform: scale(1); }
            50% { transform: scale(1.3); }
            100% { transform: scale(1); }
        }
        .combo-effect {
            animation: combo-pop 0.3s ease-in-out;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">

    <div id="game-container" class="relative bg-white w-full max-w-4xl p-6 sm:p-8 rounded-2xl shadow-lg text-center">
        
        <header class="mb-6">
            <h1 class="text-3xl font-bold text-gray-800">ë¨¹ë˜ ì‚¬ê³¼, ë¨¹ì€ ì‚¬ê³¼</h1>
            <p id="header-subtitle" class="text-gray-500 mt-2">ê·¸ë¦¼ì„ ë³´ê³  ì•Œë§ì€ ë¬¸ë²•ì„ ì„ íƒí•˜ì„¸ìš”.</p>
        </header>
        
        <div id="combo-area" class="hidden absolute top-6 right-8 text-2xl font-bold text-orange-500"></div>

        <main id="game-area">
            <!-- 1ë‹¨ê³„: í€´ì¦ˆ ì˜ì—­ -->
            <div id="quiz-area">
                <div class="flex justify-center items-center mb-4">
                    <div id="single-image-container" class="w-full md:w-1/2 bg-gray-200 rounded-lg border overflow-hidden" style="height: 300px;">
                        <!-- í•œ ê°œì˜ ì´ë¯¸ì§€ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                    </div>
                </div>
                 <div class="bg-blue-50 border-l-4 border-blue-400 p-4 rounded-md mb-6">
                    <p id="quiz-question" class="text-blue-800 text-lg"></p>
                </div>
                <div id="quiz-options" class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                    <!-- í€´ì¦ˆ ì„ íƒì§€ê°€ ì—¬ê¸°ì— ë“¤ì–´ê°‘ë‹ˆë‹¤ -->
                </div>
                <div id="quiz-feedback" class="mt-4 text-lg h-8"></div>
            </div>

            <!-- 2ë‹¨ê³„: ì„¤ëª… ì˜ì—­ -->
            <div id="explanation-area" class="hidden">
                 <p class="text-2xl font-bold mb-4">ì •ë‹µ í™•ì¸!</p>
                 <div class="flex flex-col md:flex-row justify-center items-center gap-4 mb-4">
                    <div class="w-full md:w-1/2">
                        <p class="font-semibold mb-2">ë¯¸ì™„ë£Œ (-ë˜)</p>
                        <div id="explanation-incomplete-img" class="bg-gray-200 rounded-lg border overflow-hidden" style="height: 250px;"></div>
                    </div>
                    <div class="w-full md:w-1/2">
                        <p class="font-semibold mb-2">ì™„ë£Œ (-(ìœ¼)ã„´)</p>
                        <div id="explanation-complete-img" class="bg-gray-200 rounded-lg border overflow-hidden" style="height: 250px;"></div>
                    </div>
                </div>
                <div id="explanation-text" class="bg-gray-50 p-4 rounded-lg mb-4 text-left"></div>
                <button id="next-btn" class="mt-4 bg-purple-500 text-white font-bold py-3 px-8 rounded-lg hover:bg-purple-600 transition-colors duration-300 shadow-md">ë‹¤ìŒ ë¬¸ì œ</button>
            </div>
        </main>

        <!-- ê²Œì„ ì¢…ë£Œ í™”ë©´ -->
        <div id="game-end-area" class="hidden">
            <p class="text-3xl font-bold text-green-500 mb-2">ğŸ‰ ëª¨ë“  ë¬¸ì œë¥¼ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤!</p>
            <p class="text-gray-600 mb-6">ê²°ê³¼ë¥¼ í™•ì¸í•˜ê³  í‹€ë¦° ë¬¸ì œëŠ” ë³µìŠµí•´ë³´ì„¸ìš”.</p>
            <div id="results-table-container" class="mb-8 border rounded-lg overflow-hidden"></div>
            <button id="restart-btn" class="bg-blue-500 text-white font-bold py-4 px-10 rounded-lg hover:bg-blue-600 transition-colors duration-300 shadow-xl text-lg">ë‹¤ì‹œ ì‹œì‘í•˜ê¸°</button>
        </div>
    </div>

    <!-- ë³µìŠµ ëª¨ë‹¬ -->
    <div id="review-modal" class="hidden fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4">
        <div class="bg-white w-full max-w-4xl p-6 rounded-2xl shadow-lg relative text-center">
            <button id="close-modal-btn" class="absolute top-4 right-4 text-gray-500 hover:text-gray-800 text-2xl">&times;</button>
            <h2 class="text-2xl font-bold mb-4">ë‹¤ì‹œ ë³´ê¸°</h2>
             <div class="flex flex-col md:flex-row justify-center items-center gap-4 mb-4">
                <div class="w-full md:w-1/2">
                    <p class="font-semibold mb-2">ë¯¸ì™„ë£Œ (-ë˜)</p>
                    <div id="review-incomplete-img" class="bg-gray-200 rounded-lg border overflow-hidden" style="height: 250px;"></div>
                </div>
                 <div class="w-full md:w-1/2">
                    <p class="font-semibold mb-2">ì™„ë£Œ (-(ìœ¼)ã„´)</p>
                    <div id="review-complete-img" class="bg-gray-200 rounded-lg border overflow-hidden" style="height: 250px;"></div>
                </div>
            </div>
            <div id="review-explanation" class="bg-gray-50 p-4 rounded-lg mb-4 text-left"></div>
        </div>
    </div>

    <script>
        // --- SVG ê·¸ë¦¼ í•¨ìˆ˜ë“¤ ---
        const drawings = {
            appleBitten: () => `<g transform="translate(150 120) scale(1.8)"><path d="M 50 0 C 10 0, 0 40, 0 60 C 0 100, 40 110, 50 110 C 60 110, 100 100, 100 60 C 100 40, 90 0, 50 0 Z" fill="#E74C3C"/><path d="M 45 -5 C 50 -15, 55 -5, 45 -5" fill="#784212"/><path d="M 10 30 C 20 20, 30 20, 40 30 C 30 40, 20 40, 10 30 Z" fill="#F9EBEA"/></g>`,
            appleCore: () => `<g transform="translate(180 130) scale(1.5)"><path d="M 0 0 C 10 10, 10 70, 0 80 L 10 80 C 20 70, 20 10, 10 0 Z" fill="#F9EBEA"/><circle cx="5" cy="30" r="2" fill="black"/><circle cx="5" cy="50" r="2" fill="black"/><path d="M 2 0 C 5 -10, 8 0, 2 0" fill="#784212"/></g>`,
            coffeeHalf: () => `<g transform="translate(150 100)"><path d="M 0 0 H 100 V 120 H 0 Z" fill="white" stroke="black" stroke-width="2"/><rect x="5" y="60" width="90" height="55" fill="#A1887F"/></g>`,
            coffeeEmpty: () => `<g transform="translate(150 100)"><path d="M 0 0 H 100 V 120 H 0 Z" fill="white" stroke="black" stroke-width="2"/></g>`,
            bookOpen: () => `<g transform="translate(100 80)"><path d="M 20 10 L 100 0 L 100 160 L 20 170 Z" fill="white" stroke="black" stroke-width="2"/><path d="M 180 10 L 100 0 L 100 160 L 180 170 Z" fill="white" stroke="black" stroke-width="2"/><rect x="95" y="0" width="10" height="80" fill="#E74C3C"/></g>`,
            bookClosed: () => `<g transform="translate(150 80)"><rect x="0" y="0" width="100" height="170" fill="#2980B9"/><rect x="0" y="0" width="10" height="170" fill="#1F618D"/></g>`,
            paintingHalf: () => `<g transform="translate(100 70)"><rect x="0" y="0" width="200" height="150" fill="white" stroke="black" stroke-width="2"/><path d="M 0 150 L 200 150 L 100 50 Z" fill="#27AE60"/><rect x="0" y="0" width="100" height="150" fill="#5DADE2"/></g>`,
            paintingDone: () => `<g transform="translate(90 60)"><rect x="0" y="0" width="220" height="170" fill="#795548"/><rect x="10" y="10" width="200" height="150" fill="#5DADE2"/><path d="M 10 160 L 210 160 L 110 60 Z" fill="#27AE60"/><circle cx="170" cy="50" r="15" fill="yellow"/></g>`,
            letterHalf: () => `<g transform="translate(100 80)"><rect x="0" y="0" width="200" height="200" fill="white" stroke="#bdc3c7" stroke-width="1"/><path d="M 20 40 H 180 M 20 60 H 180 M 20 80 H 100" stroke="#34495e" stroke-width="2" fill="none"/></g>`,
            letterDone: () => `<g transform="translate(100 80)"><rect x="0" y="0" width="200" height="120" fill="#ecf0f1" stroke="#bdc3c7" stroke-width="1"/><path d="M 0 0 L 100 60 L 200 0" stroke="#bdc3c7" stroke-width="1" fill="none"/></g>`,
        };

        const scenarios = [
            { id: 'apple', images: { incomplete: 'appleBitten', complete: 'appleCore' }, explanation: "ì•„ì§ ë¨¹ëŠ” ì¤‘ì¸ ìƒíƒœëŠ” 'ë¨¹ë˜', ë¨¹ëŠ” í–‰ë™ì´ ì™„ì „íˆ ëë‚œ ìƒíƒœëŠ” 'ë¨¹ì€'ìœ¼ë¡œ í‘œí˜„í•©ë‹ˆë‹¤.", parts: { incomplete: { question: "ì´ê²ƒì€ ë‚´ê°€ ( ) ì‚¬ê³¼ì´ë‹¤.", options: ["ë¨¹ë˜", "ë¨¹ì€"], answer: "ë¨¹ë˜" }, complete: { question: "ì´ê²ƒì€ ë‚´ê°€ ë‹¤ ( ) ì‚¬ê³¼ì´ë‹¤.", options: ["ë¨¹ë˜", "ë¨¹ì€"], answer: "ë¨¹ì€" } } },
            { id: 'coffee', images: { incomplete: 'coffeeHalf', complete: 'coffeeEmpty' }, explanation: "ì•„ì§ ë§ˆì‹œëŠ” ì¤‘ì¸ ìƒíƒœëŠ” 'ë§ˆì‹œë˜', ë§ˆì‹œëŠ” í–‰ë™ì´ ì™„ì „íˆ ëë‚œ ìƒíƒœëŠ” 'ë§ˆì‹ 'ìœ¼ë¡œ í‘œí˜„í•©ë‹ˆë‹¤.", parts: { incomplete: { question: "ìë¦¬ì— ì™€ ë³´ë‹ˆ ë‚´ê°€ ( ) ì»¤í”¼ê°€ ì—†ì—ˆë‹¤.", options: ["ë§ˆì‹œë˜", "ë§ˆì‹ "], answer: "ë§ˆì‹œë˜" }, complete: { question: "ë‚´ê°€ ë‹¤ ( ) ì»¤í”¼ëŠ” ì´ë¯¸ ë²„ë ¸ë‹¤.", options: ["ë§ˆì‹œë˜", "ë§ˆì‹ "], answer: "ë§ˆì‹ " } } },
            { id: 'book', images: { incomplete: 'bookOpen', complete: 'bookClosed' }, explanation: "ì•„ì§ ì½ëŠ” ì¤‘ì¸ ìƒíƒœëŠ” 'ì½ë˜', ì½ëŠ” í–‰ë™ì´ ì™„ì „íˆ ëë‚œ ìƒíƒœëŠ” 'ì½ì€'ìœ¼ë¡œ í‘œí˜„í•©ë‹ˆë‹¤.", parts: { incomplete: { question: "ì–´ì œ ( ) ì±…ì„ ì˜¤ëŠ˜ ë§ˆì € ì½ì–´ì•¼ í•œë‹¤.", options: ["ì½ë˜", "ì½ì€"], answer: "ì½ë˜" }, complete: { question: "ì–´ì œ ë‹¤ ( ) ì±…ì„ ì¹œêµ¬ì—ê²Œ ë¹Œë ¤ì£¼ì—ˆë‹¤.", options: ["ì½ë˜", "ì½ì€"], answer: "ì½ì€" } } },
            { id: 'painting', images: { incomplete: 'paintingHalf', complete: 'paintingDone' }, explanation: "ì•„ì§ ê·¸ë¦¬ëŠ” ì¤‘ì¸ ìƒíƒœëŠ” 'ê·¸ë¦¬ë˜', ê·¸ë¦¬ëŠ” í–‰ë™ì´ ì™„ì „íˆ ëë‚œ ìƒíƒœëŠ” 'ê·¸ë¦°'ìœ¼ë¡œ í‘œí˜„í•©ë‹ˆë‹¤.", parts: { incomplete: { question: "ë‚´ê°€ ì˜¤ë«ë™ì•ˆ ( ) ê·¸ë¦¼ì´ ì•„ì§ ë¯¸ì™„ì„±ì´ë‹¤.", options: ["ê·¸ë¦¬ë˜", "ê·¸ë¦°"], answer: "ê·¸ë¦¬ë˜" }, complete: { question: "ì–´ì œ ë‹¤ ( ) ê·¸ë¦¼ì„ ì˜¤ëŠ˜ ì„ ë¬¼í–ˆë‹¤.", options: ["ê·¸ë¦¬ë˜", "ê·¸ë¦°"], answer: "ê·¸ë¦°" } } },
            { id: 'letter', images: { incomplete: 'letterHalf', complete: 'letterDone' }, explanation: "ì•„ì§ ì“°ëŠ” ì¤‘ì¸ ìƒíƒœëŠ” 'ì“°ë˜', ì“°ëŠ” í–‰ë™ì´ ì™„ì „íˆ ëë‚œ ìƒíƒœëŠ” 'ì“´'ìœ¼ë¡œ í‘œí˜„í•©ë‹ˆë‹¤.", parts: { incomplete: { question: "ë‚´ê°€ ( ) í¸ì§€ë¥¼ ë™ìƒì´ í›”ì³ë´¤ë‹¤.", options: ["ì“°ë˜", "ì“´"], answer: "ì“°ë˜" }, complete: { question: "ë‹¤ ( ) í¸ì§€ë¥¼ ë´‰íˆ¬ì— ë„£ì—ˆë‹¤.", options: ["ì“°ë˜", "ì“´"], answer: "ì“´" } } }
        ];

        // HTML ìš”ì†Œ
        const headerSubtitle = document.getElementById('header-subtitle');
        const gameArea = document.getElementById('game-area');
        const gameEndArea = document.getElementById('game-end-area');
        const comboArea = document.getElementById('combo-area');
        const quizArea = document.getElementById('quiz-area');
        const singleImageContainer = document.getElementById('single-image-container');
        const explanationArea = document.getElementById('explanation-area');
        const explanationIncompleteImg = document.getElementById('explanation-incomplete-img');
        const explanationCompleteImg = document.getElementById('explanation-complete-img');
        const explanationText = document.getElementById('explanation-text');
        const quizQuestion = document.getElementById('quiz-question');
        const quizOptions = document.getElementById('quiz-options');
        const quizFeedback = document.getElementById('quiz-feedback');
        const nextBtn = document.getElementById('next-btn');
        const restartBtn = document.getElementById('restart-btn');
        const resultsTableContainer = document.getElementById('results-table-container');

        const reviewModal = document.getElementById('review-modal');
        const closeModalBtn = document.getElementById('close-modal-btn');
        const reviewIncompleteImg = document.getElementById('review-incomplete-img');
        const reviewCompleteImg = document.getElementById('review-complete-img');
        const reviewExplanation = document.getElementById('review-explanation');

        let currentQuestion;
        let questionCount = 0;
        let allQuestions = [];
        let gameResults = [];
        let comboCount = 0;
        
        function buildImageSvg(imageType) {
            const drawFunc = drawings[imageType];
            return `<svg width="100%" height="100%" viewBox="0 0 400 300" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg">${drawFunc()}</svg>`;
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function setupNewGame() {
            questionCount = 0;
            gameResults = [];
            comboCount = 0;
            updateComboDisplay();
            
            allQuestions = [];
            scenarios.forEach(scenario => {
                allQuestions.push({ type: 'incomplete', scenarioId: scenario.id, ...scenario.parts.incomplete });
                allQuestions.push({ type: 'complete', scenarioId: scenario.id, ...scenario.parts.complete });
            });
            shuffleArray(allQuestions);
            
            gameEndArea.style.display = 'none';
            gameArea.style.display = 'block';
            loadNextQuestion();
        }

        function loadNextQuestion() {
            if (questionCount >= allQuestions.length) {
                showEndScreen();
                return;
            }

            quizArea.style.display = 'block';
            explanationArea.style.display = 'none';
            quizFeedback.innerHTML = '';
            headerSubtitle.textContent = `ë¬¸ì œ ${questionCount + 1}/${allQuestions.length}: ê·¸ë¦¼ì„ ë³´ê³  ì•Œë§ì€ ë¬¸ë²•ì„ ì„ íƒí•˜ì„¸ìš”.`;
            
            currentQuestion = allQuestions[questionCount];
            const originalScenario = scenarios.find(s => s.id === currentQuestion.scenarioId);
            
            const imageType = originalScenario.images[currentQuestion.type];
            singleImageContainer.innerHTML = buildImageSvg(imageType);

            quizQuestion.textContent = currentQuestion.question;

            quizOptions.innerHTML = '';
            currentQuestion.options.forEach(option => {
                const button = document.createElement('button');
                button.textContent = option;
                button.className = 'quiz-option w-full p-4 border-2 rounded-lg text-lg font-semibold hover:bg-gray-100';
                button.onclick = () => checkQuizAnswer(option, button);
                quizOptions.appendChild(button);
            });
        }
        
        function checkQuizAnswer(selectedOption, selectedButton) {
            Array.from(quizOptions.children).forEach(btn => btn.disabled = true);
            const isCorrect = selectedOption === currentQuestion.answer;
            gameResults.push({ question: currentQuestion, isCorrect: isCorrect, selected: selectedOption });

            if (isCorrect) {
                comboCount++;
                quizFeedback.textContent = 'ì •ë‹µì…ë‹ˆë‹¤! ì•„ë˜ ì„¤ëª…ì„ í™•ì¸í•˜ì„¸ìš”.';
                quizFeedback.className = 'mt-4 text-lg h-8 text-green-600 font-bold feedback-anim';
                selectedButton.classList.add('bg-green-200', 'border-green-400');
            } else {
                comboCount = 0;
                quizFeedback.textContent = `ì•„ì‰½ì§€ë§Œ, ì •ë‹µì€ '${currentQuestion.answer}'ì…ë‹ˆë‹¤.`;
                quizFeedback.className = 'mt-4 text-lg h-8 text-red-500 feedback-anim';
                selectedButton.classList.add('bg-red-200', 'border-red-400');
            }
            updateComboDisplay();
            setTimeout(showExplanation, 1500);
        }

        function updateComboDisplay() {
            if (comboCount > 1) {
                comboArea.textContent = `ğŸ”¥ ${comboCount} COMBO!`;
                comboArea.classList.remove('hidden');
                comboArea.classList.add('combo-effect');
                setTimeout(() => comboArea.classList.remove('combo-effect'), 300);
            } else {
                comboArea.classList.add('hidden');
            }
        }

        function showExplanation() {
            quizArea.style.display = 'none';
            explanationArea.style.display = 'block';

            const originalScenario = scenarios.find(s => s.id === currentQuestion.scenarioId);
            explanationIncompleteImg.innerHTML = buildImageSvg(originalScenario.images.incomplete);
            explanationCompleteImg.innerHTML = buildImageSvg(originalScenario.images.complete);

            const incompleteSentence = originalScenario.parts.incomplete.question.replace('( )', `<span class='font-bold text-red-500'>${originalScenario.parts.incomplete.answer}</span>`);
            const completeSentence = originalScenario.parts.complete.question.replace('( )', `<span class='font-bold text-red-500'>${originalScenario.parts.complete.answer}</span>`);

            explanationText.innerHTML = `<p class="font-bold text-gray-800 mb-2">ì„¤ëª…:</p><p>${originalScenario.explanation}</p>
            <p class="mt-3"><span class="font-bold text-blue-600">ë¯¸ì™„ë£Œ:</span> ${incompleteSentence}</p>
            <p class="mt-1"><span class="font-bold text-blue-600">ì™„ë£Œ:</span> ${completeSentence}</p>`;

            nextBtn.textContent = (questionCount === allQuestions.length - 1) ? 'ê²°ê³¼ ë³´ê¸°' : 'ë‹¤ìŒ ë¬¸ì œ';
            nextBtn.style.display = 'inline-block';
        }

        function showEndScreen() {
            gameArea.style.display = 'none';
            gameEndArea.style.display = 'block';
            comboArea.classList.add('hidden');
            
            let tableHTML = `<table class="w-full text-left table-auto"><thead class="bg-gray-100"><tr><th class="p-3">ë¬¸ì œ</th><th class="p-3 text-center">ì„ íƒ</th><th class="p-3 text-center">ê²°ê³¼</th><th class="p-3 text-center">ë³µìŠµ</th></tr></thead><tbody>`;
            
            gameResults.forEach((result, index) => {
                const isCorrect = result.isCorrect;
                tableHTML += `<tr class="border-b"><td class="p-3 text-sm">${result.question.question.replace('( )', `(${result.question.answer})`)}</td><td class="p-3 text-center text-sm">${result.selected}</td><td class="p-3 text-center font-bold ${isCorrect ? 'text-green-500' : 'text-red-500'}">${isCorrect ? 'O' : 'X'}</td><td class="p-3 text-center"><button class="review-btn bg-gray-200 hover:bg-gray-300 text-gray-700 text-sm py-1 px-3 rounded-md" data-index="${index}">ë³´ê¸°</button></td></tr>`;
            });

            tableHTML += `</tbody></table>`;
            resultsTableContainer.innerHTML = tableHTML;
        }
        
        function openReviewModal(index) {
            const result = gameResults[index];
            const originalScenario = scenarios.find(s => s.id === result.question.scenarioId);
            
            reviewIncompleteImg.innerHTML = buildImageSvg(originalScenario.images.incomplete);
            reviewCompleteImg.innerHTML = buildImageSvg(originalScenario.images.complete);
            
            const incompleteSentence = originalScenario.parts.incomplete.question.replace('( )', `<span class='font-bold text-red-500'>${originalScenario.parts.incomplete.answer}</span>`);
            const completeSentence = originalScenario.parts.complete.question.replace('( )', `<span class='font-bold text-red-500'>${originalScenario.parts.complete.answer}</span>`);

            reviewExplanation.innerHTML = `<p class="font-bold text-gray-800 mb-2">ì„¤ëª…:</p><p>${originalScenario.explanation}</p>
            <p class="mt-3"><span class="font-bold text-blue-600">ë¯¸ì™„ë£Œ:</span> ${incompleteSentence}</p>
            <p class="mt-1"><span class="font-bold text-blue-600">ì™„ë£Œ:</span> ${completeSentence}</p>`;
            reviewModal.style.display = 'flex';
        }

        function closeReviewModal() {
            reviewModal.style.display = 'none';
        }

        resultsTableContainer.addEventListener('click', (e) => {
            if (e.target.classList.contains('review-btn')) {
                const index = e.target.dataset.index;
                openReviewModal(index);
            }
        });

        nextBtn.addEventListener('click', () => {
            questionCount++;
            loadNextQuestion();
        });
        restartBtn.addEventListener('click', setupNewGame);
        closeModalBtn.addEventListener('click', closeReviewModal);

        window.onload = setupNewGame;
    </script>

</body>
</html>

