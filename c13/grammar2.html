<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í•œêµ­ì–´ ë¬¸ë²• í•™ìŠµ: V-ê³  ìˆë‹¤</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f3f4f6;
        }
        .card {
            background-color: white;
            border-radius: 16px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.05);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        @media (min-width: 640px) {
            .card {
                padding: 2rem;
                margin-bottom: 2rem;
            }
        }
        .gradient-text {
            background: linear-gradient(to right, #10b981, #3b82f6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .btn {
            border-radius: 10px;
            padding: 0.75rem 1.5rem;
            font-weight: 700;
            color: white;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 7px 14px rgba(0,0,0,0.1);
        }
        .btn-primary {
            background-color: #10b981;
        }
        .btn-primary:hover {
            background-color: #059669;
        }
        .tab-btn {
            padding: 0.75rem 1.25rem;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid transparent;
        }
        .tab-btn.active {
            color: #059669;
            background-color: #d1fae5;
            border-color: #10b981;
        }
        .tab-btn:not(.active) {
            color: #4b5563;
        }
        .quiz-input {
            border: 2px solid #d1d5db;
            border-radius: 10px;
            padding: 0.75rem 1rem;
            width: 100%;
            transition: border-color 0.2s;
        }
        .quiz-input:focus {
            outline: none;
            border-color: #10b981;
        }
        .feedback {
            font-weight: 700;
            margin-top: 1rem;
            padding: 0.75rem;
            border-radius: 8px;
            text-align: center;
        }
        .feedback-correct {
            color: #16a34a;
            background-color: #dcfce7;
        }
        .feedback-incorrect {
            color: #dc2626;
            background-color: #fee2e2;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body class="p-4 sm:p-6 lg:p-8">
    <div class="max-w-4xl mx-auto">
        
        <header class="text-center mb-6">
            <h1 class="text-3xl sm:text-4xl font-bold gradient-text" data-key="main_title">ë¬¸ë²•ê³¼ í‘œí˜„ 2: V-ê³  ìˆë‹¤</h1>
            <p class="text-gray-600 mt-2" data-key="main_subtitle">Grammar and Expression 2: V-ê³  ìˆë‹¤</p>
            <div class="mt-4">
                <select id="lang-selector" class="rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 text-base py-2 px-3">
                    <option value="ko">í•œêµ­ì–´</option>
                    <option value="en">English</option>
                    <option value="vi">Tiáº¿ng Viá»‡t</option>
                    <option value="ja">æ—¥æœ¬èª</option>
                    <option value="zh">ä¸­æ–‡</option>
                </select>
            </div>
        </header>

        <!-- Tab Navigation -->
        <div class="flex justify-center flex-wrap space-x-2 sm:space-x-4 mb-6 bg-gray-100 p-2 rounded-xl">
            <button class="tab-btn active" onclick="changeView('explanation')" data-key="tab_explanation">ì„¤ëª…</button>
            <button class="tab-btn" onclick="changeView('practice')" data-key="tab_practice">ì—°ìŠµ</button>
            <button class="tab-btn" onclick="changeView('quiz')" data-key="tab_quiz">ì—°ìŠµ ë¬¸ì œ</button>
        </div>

        <!-- Content Views -->
        <main>
            <!-- Explanation View -->
            <div id="explanation-view">
                <div class="card">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4" data-key="explanation_title">ë¬´ì—‡ì„ ë°°ìš¸ê¹Œìš”?</h2>
                    <p class="text-gray-700 mb-2" data-key="explanation_desc_1">
                        <strong>-ê³  ìˆë‹¤</strong>ëŠ” í˜„ì¬ ì§„í–‰ ì¤‘ì¸ ë™ì‘ì´ë‚˜, ì˜· ë“±ì„ ì…ê±°ë‚˜ ì°©ìš©í•œ ìƒíƒœê°€ ê³„ì†ë¨ì„ ë‚˜íƒ€ë‚¼ ë•Œ ì‚¬ìš©í•˜ëŠ” í‘œí˜„ì…ë‹ˆë‹¤.
                    </p>
                     <p class="text-gray-700" data-key="explanation_desc_2">
                        '~í•˜ëŠ” ì¤‘ì´ë‹¤' ë˜ëŠ” '~í•œ ìƒíƒœì´ë‹¤'ë¼ëŠ” ì˜ë¯¸ë¥¼ ê°€ì§‘ë‹ˆë‹¤.
                    </p>
                    <div class="mt-6 pt-6 border-t">
                        <h3 class="font-bold text-lg text-gray-800 mb-2" data-key="conjugation_title">ë§Œë“œëŠ” ë²•</h3>
                        <ul class="list-disc list-inside text-gray-700 space-y-2">
                            <li data-key="conjugation_rule_1">ë™ì‚¬ ì–´ê°„ì— ë°”ë¡œ + <strong>ê³  ìˆë‹¤</strong>ë¥¼ ë¶™ì…ë‹ˆë‹¤. (ì˜ˆ: ê°€ë‹¤ â†’ ê°€ê³  ìˆë‹¤, ì…ë‹¤ â†’ ì…ê³  ìˆë‹¤)</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Practice View -->
            <div id="practice-view" class="hidden">
                 <div class="card">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4" data-key="dialogue_title">ëŒ€í™” ì˜ˆì‹œ</h2>
                    <div class="space-y-4">
                        <div class="flex items-start space-x-3">
                            <div class="flex-shrink-0 w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center font-bold text-lg">A</div>
                            <div class="bg-gray-100 rounded-xl p-3 sm:p-4">
                                <p class="text-gray-800" data-key="dialogue_a_1">ì•„í‚¤ë¼ ì”¨ê°€ ëˆ„êµ¬ì˜ˆìš”?</p>
                                <p class="text-sm text-gray-500" data-key="dialogue_a_2">Who is Akira?</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3">
                            <div class="flex-shrink-0 w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold text-lg">B</div>
                            <div class="bg-gray-100 rounded-xl p-3 sm:p-4">
                                <p class="text-gray-800" data-key="dialogue_b_1">ì €ê¸° í°ìƒ‰ ì–‘ë³µì— ê¹Œë§Œìƒ‰ ê°€ë°©ì„ <strong>ë“¤ê³  ìˆëŠ”</strong> ì‚¬ëŒì´ì—ìš”.</p>
                                <p class="text-sm text-gray-500" data-key="dialogue_b_2">That person over there wearing a white suit and holding a black bag.</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4" data-key="examples_title">ë¬¸ì¥ ì˜ˆì‹œ</h2>
                    <ul class="space-y-4">
                        <li>
                            <p class="text-gray-800">ì§€ê¸ˆ <strong>ì…ê³  ìˆëŠ”</strong> ì²­ë°”ì§€ ì•„ì£¼ í¸í•´ ë³´ì´ëŠ”ë° ì–´ë””ì„œ ìƒ€ì–´ìš”?</p>
                        </li>
                        <li>
                            <p class="text-gray-800">í°ìƒ‰ ì™€ì´ì…”ì¸ ì— ë¹¨ê°„ìƒ‰ ë„¥íƒ€ì´ë¥¼ <strong>ë©”ê³  ìˆëŠ”</strong> ì‚¬ëŒì´ ìš°ë¦¬ í˜•ì´ì—ìš”.</p>
                        </li>
                        <li>
                            <p class="text-gray-800">ì‚¬ì˜¤ë‘ ì”¨ëŠ” íŒŒë€ìƒ‰ ì²´í¬ë¬´ëŠ¬ ì…”ì¸ ì— ì²­ë°”ì§€ë¥¼ <strong>ì…ê³  ìˆì–´ìš”</strong>.</p>
                        </li>
                         <li>
                            <p class="text-gray-800">ë§ˆë¦¬ì½” ì”¨ëŠ” ë…¸ë€ìƒ‰ ì›í”¼ìŠ¤ì— í•˜ì–€ìƒ‰ êµ¬ë‘ë¥¼ <strong>ì‹ ê³  ìˆì–´ìš”</strong>.</p>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- Quiz View -->
            <div id="quiz-view" class="hidden">
                <div class="card">
                    <h2 class="text-2xl font-bold text-gray-800 mb-2" data-key="quiz_title">ì—°ìŠµ ë¬¸ì œ</h2>
                    <p class="text-gray-600 mb-6" data-key="quiz_instruction">ê´„í˜¸ ì•ˆì˜ ë‹¨ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¬¸ì¥ì„ ì™„ì„±í•˜ì„¸ìš”. ('-ê³  ìˆì–´ìš”' í˜•íƒœë¡œ)</p>
                    <div id="quiz-container"></div>
                    <div class="mt-6 flex justify-between items-center">
                        <button id="check-btn" class="btn btn-primary" data-key="check_button">ì •ë‹µ í™•ì¸</button>
                        <button id="next-btn" class="btn bg-gray-600 hover:bg-gray-700 hidden" data-key="next_button">ë‹¤ìŒ ë¬¸ì œ</button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        const translations = {
            ko: {
                main_title: "ë¬¸ë²•ê³¼ í‘œí˜„ 2: V-ê³  ìˆë‹¤",
                main_subtitle: "Grammar and Expression 2: V-ê³  ìˆë‹¤",
                tab_explanation: "ì„¤ëª…",
                tab_practice: "ì—°ìŠµ",
                tab_quiz: "ì—°ìŠµ ë¬¸ì œ",
                explanation_title: "ë¬´ì—‡ì„ ë°°ìš¸ê¹Œìš”?",
                explanation_desc_1: "<strong>-ê³  ìˆë‹¤</strong>ëŠ” í˜„ì¬ ì§„í–‰ ì¤‘ì¸ ë™ì‘ì´ë‚˜, ì˜· ë“±ì„ ì…ê±°ë‚˜ ì°©ìš©í•œ ìƒíƒœê°€ ê³„ì†ë¨ì„ ë‚˜íƒ€ë‚¼ ë•Œ ì‚¬ìš©í•˜ëŠ” í‘œí˜„ì…ë‹ˆë‹¤.",
                explanation_desc_2: "'~í•˜ëŠ” ì¤‘ì´ë‹¤' ë˜ëŠ” '~í•œ ìƒíƒœì´ë‹¤'ë¼ëŠ” ì˜ë¯¸ë¥¼ ê°€ì§‘ë‹ˆë‹¤.",
                conjugation_title: "ë§Œë“œëŠ” ë²•",
                conjugation_rule_1: "ë™ì‚¬ ì–´ê°„ì— ë°”ë¡œ + <strong>ê³  ìˆë‹¤</strong>ë¥¼ ë¶™ì…ë‹ˆë‹¤. (ì˜ˆ: ê°€ë‹¤ â†’ ê°€ê³  ìˆë‹¤, ì…ë‹¤ â†’ ì…ê³  ìˆë‹¤)",
                dialogue_title: "ëŒ€í™” ì˜ˆì‹œ",
                dialogue_a_1: "ì•„í‚¤ë¼ ì”¨ê°€ ëˆ„êµ¬ì˜ˆìš”?",
                dialogue_a_2: "Who is Akira?",
                dialogue_b_1: "ì €ê¸° í°ìƒ‰ ì–‘ë³µì— ê¹Œë§Œìƒ‰ ê°€ë°©ì„ <strong>ë“¤ê³  ìˆëŠ”</strong> ì‚¬ëŒì´ì—ìš”.",
                dialogue_b_2: "That person over there wearing a white suit and holding a black bag.",
                examples_title: "ë¬¸ì¥ ì˜ˆì‹œ",
                quiz_title: "ì—°ìŠµ ë¬¸ì œ",
                quiz_instruction: "ê´„í˜¸ ì•ˆì˜ ë‹¨ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¬¸ì¥ì„ ì™„ì„±í•˜ì„¸ìš”. ('-ê³  ìˆì–´ìš”' í˜•íƒœë¡œ)",
                check_button: "ì •ë‹µ í™•ì¸",
                next_button: "ë‹¤ìŒ ë¬¸ì œ",
                feedback_correct: "ì •ë‹µì…ë‹ˆë‹¤!",
                feedback_incorrect_template: (answer) => `í‹€ë ¸ì–´ìš”. ì •ë‹µì€ "${answer}" ì…ë‹ˆë‹¤.`,
                quiz_end: "ëª¨ë“  ë¬¸ì œë¥¼ ë‹¤ í’€ì—ˆì–´ìš”! ì •ë§ ì˜í–ˆì–´ìš”! ğŸ‘"
            },
            en: {
                main_title: "Grammar and Expression 2: V-ê³  ìˆë‹¤",
                main_subtitle: "",
                tab_explanation: "Explanation",
                tab_practice: "Practice",
                tab_quiz: "Quiz",
                explanation_title: "What will we learn?",
                explanation_desc_1: "<strong>-ê³  ìˆë‹¤</strong> is used to express an action in progress, or a continuous state of wearing something (like clothes).",
                explanation_desc_2: "It means 'is/are -ing' or 'is in the state of wearing'.",
                conjugation_title: "Conjugation",
                conjugation_rule_1: "Simply add + <strong>ê³  ìˆë‹¤</strong> to the verb stem. (e.g., ê°€ë‹¤ â†’ ê°€ê³  ìˆë‹¤, ì…ë‹¤ â†’ ì…ê³  ìˆë‹¤)",
                dialogue_title: "Dialogue Example",
                dialogue_a_1: "Who is Akira?",
                dialogue_a_2: "",
                dialogue_b_1: "That person over there <strong>wearing</strong> a white suit and <strong>holding</strong> a black bag.",
                dialogue_b_2: "",
                examples_title: "Example Sentences",
                quiz_title: "Practice Quiz",
                quiz_instruction: "Complete the sentence using the word in parentheses. (in the '-ê³  ìˆì–´ìš”' form)",
                check_button: "Check Answer",
                next_button: "Next Question",
                feedback_correct: "Correct!",
                feedback_incorrect_template: (answer) => `Incorrect. The answer is "${answer}".`,
                quiz_end: "You've completed all the questions! Great job! ğŸ‘"
            },
            vi: {
                main_title: "Ngá»¯ phÃ¡p vÃ  biá»ƒu hiá»‡n 2: V-ê³  ìˆë‹¤",
                main_subtitle: "",
                tab_explanation: "Giáº£i thÃ­ch",
                tab_practice: "Luyá»‡n táº­p",
                tab_quiz: "CÃ¢u Ä‘á»‘",
                explanation_title: "ChÃºng ta sáº½ há»c gÃ¬?",
                explanation_desc_1: "<strong>-ê³  ìˆë‹¤</strong> lÃ  biá»ƒu hiá»‡n dÃ¹ng Ä‘á»ƒ chá»‰ hÃ nh Ä‘á»™ng Ä‘ang diá»…n ra, hoáº·c tráº¡ng thÃ¡i Ä‘ang máº·c (quáº§n Ã¡o, v.v.).",
                explanation_desc_2: "NÃ³ cÃ³ nghÄ©a lÃ  'Ä‘ang lÃ m gÃ¬ Ä‘Ã³' hoáº·c 'Ä‘ang trong tráº¡ng thÃ¡i'.",
                conjugation_title: "CÃ¡ch chia",
                conjugation_rule_1: "Chá»‰ cáº§n thÃªm + <strong>ê³  ìˆë‹¤</strong> vÃ o sau gá»‘c Ä‘á»™ng tá»«. (vÃ­ dá»¥: ê°€ë‹¤ â†’ ê°€ê³  ìˆë‹¤, ì…ë‹¤ â†’ ì…ê³  ìˆë‹¤)",
                dialogue_title: "VÃ­ dá»¥ há»™i thoáº¡i",
                dialogue_a_1: "Akira lÃ  ai váº­y?",
                dialogue_a_2: "",
                dialogue_b_1: "LÃ  ngÆ°á»i <strong>Ä‘ang máº·c</strong> vest tráº¯ng vÃ  <strong>xÃ¡ch</strong> tÃºi mÃ u Ä‘en á»Ÿ Ä‘áº±ng kia.",
                dialogue_b_2: "",
                examples_title: "VÃ­ dá»¥ cÃ¢u",
                quiz_title: "CÃ¢u Ä‘á»‘ thá»±c hÃ nh",
                quiz_instruction: "HoÃ n thÃ nh cÃ¢u báº±ng tá»« trong ngoáº·c. (dáº¡ng '-ê³  ìˆì–´ìš”')",
                check_button: "Kiá»ƒm tra Ä‘Ã¡p Ã¡n",
                next_button: "CÃ¢u tiáº¿p theo",
                feedback_correct: "ÄÃºng rá»“i!",
                feedback_incorrect_template: (answer) => `Sai rá»“i. ÄÃ¡p Ã¡n lÃ  "${answer}".`,
                quiz_end: "Báº¡n Ä‘Ã£ hoÃ n thÃ nh táº¥t cáº£ cÃ¡c cÃ¢u há»i! LÃ m tá»‘t láº¯m! ğŸ‘"
            },
            ja: {
                main_title: "æ–‡æ³•ã¨è¡¨ç¾ 2: V-ê³  ìˆë‹¤",
                main_subtitle: "",
                tab_explanation: "èª¬æ˜",
                tab_practice: "ç·´ç¿’",
                tab_quiz: "ç·´ç¿’å•é¡Œ",
                explanation_title: "ä½•ã‚’å­¦ã³ã¾ã™ã‹ï¼Ÿ",
                explanation_desc_1: "<strong>-ê³  ìˆë‹¤</strong>ã¯ã€ç¾åœ¨é€²è¡Œä¸­ã®å‹•ä½œã‚„ã€æœãªã©ã‚’ç€ãŸã‚Šç€ç”¨ã—ãŸçŠ¶æ…‹ãŒç¶šã„ã¦ã„ã‚‹ã“ã¨ã‚’è¡¨ã™ã¨ãã«ä½¿ã†è¡¨ç¾ã§ã™ã€‚",
                explanation_desc_2: "ã€Œã€œã—ã¦ã„ã‚‹ã€ã¾ãŸã¯ã€Œã€œã—ã¦ã„ã‚‹çŠ¶æ…‹ã ã€ã¨ã„ã†æ„å‘³ã§ã™ã€‚",
                conjugation_title: "ä½œã‚Šæ–¹",
                conjugation_rule_1: "å‹•è©ã®èªå¹¹ã«ãã®ã¾ã¾ + <strong>ê³  ìˆë‹¤</strong>ã‚’ä»˜ã‘ã¾ã™ã€‚(ä¾‹: ê°€ë‹¤ â†’ ê°€ê³  ìˆë‹¤, ì…ë‹¤ â†’ ì…ê³  ìˆë‹¤)",
                dialogue_title: "ä¼šè©±ã®ä¾‹",
                dialogue_a_1: "ã‚ãã‚‰ã•ã‚“ã¯èª°ã§ã™ã‹ï¼Ÿ",
                dialogue_a_2: "",
                dialogue_b_1: "ã‚ãã“ã®ç™½ã„ã‚¹ãƒ¼ãƒ„ã«é»’ã„ã‚«ãƒãƒ³ã‚’<strong>æŒã£ã¦ã„ã‚‹</strong>äººã§ã™ã€‚",
                dialogue_b_2: "",
                examples_title: "ä¾‹æ–‡",
                quiz_title: "ç·´ç¿’å•é¡Œ",
                quiz_instruction: "æ‹¬å¼§å†…ã®å˜èªã‚’ä½¿ã£ã¦æ–‡ç« ã‚’å®Œæˆã•ã›ã¦ãã ã•ã„ã€‚(ã€Œ-ê³  ìˆì–´ìš”ã€ã®å½¢ã§)",
                check_button: "æ­£è§£ç¢ºèª",
                next_button: "æ¬¡ã®å•é¡Œ",
                feedback_correct: "æ­£è§£ã§ã™ï¼",
                feedback_incorrect_template: (answer) => `ä¸æ­£è§£ã§ã™ã€‚æ­£è§£ã¯ã€Œ${answer}ã€ã§ã™ã€‚`,
                quiz_end: "ã™ã¹ã¦ã®å•é¡Œã‚’å®Œäº†ã—ã¾ã—ãŸï¼ãŠç–²ã‚Œæ§˜ã§ã—ãŸï¼ğŸ‘"
            },
            zh: {
                main_title: "è¯­æ³•ä¸è¡¨è¾¾ 2: V-ê³  ìˆë‹¤",
                main_subtitle: "",
                tab_explanation: "è¯´æ˜",
                tab_practice: "ç»ƒä¹ ",
                tab_quiz: "ç»ƒä¹ é¢˜",
                explanation_title: "æˆ‘ä»¬å°†å­¦ä¹ ä»€ä¹ˆï¼Ÿ",
                explanation_desc_1: "<strong>-ê³  ìˆë‹¤</strong> ç”¨äºè¡¨ç¤ºæ­£åœ¨è¿›è¡Œçš„åŠ¨ä½œï¼Œæˆ–ç©¿ç€è¡£ç‰©ç­‰æŒç»­çš„çŠ¶æ€ã€‚",
                explanation_desc_2: "æ„æ€æ˜¯â€œæ­£åœ¨åš...â€æˆ–â€œå¤„äº...çš„çŠ¶æ€â€ã€‚",
                conjugation_title: "æ„æˆæ–¹æ³•",
                conjugation_rule_1: "åœ¨åŠ¨è¯è¯å¹²åç›´æ¥åŠ  + <strong>ê³  ìˆë‹¤</strong>ã€‚(ä¾‹å¦‚: ê°€ë‹¤ â†’ ê°€ê³  ìˆë‹¤, ì…ë‹¤ â†’ ì…ê³  ìˆë‹¤)",
                dialogue_title: "å¯¹è¯ç¤ºä¾‹",
                dialogue_a_1: "Akiraæ˜¯è°ï¼Ÿ",
                dialogue_a_2: "",
                dialogue_b_1: "å°±æ˜¯é‚£ä¸ªç©¿ç€ç™½è‰²è¥¿è£…ï¼Œ<strong>æç€</strong>é»‘è‰²åŒ…çš„äººã€‚",
                dialogue_b_2: "",
                examples_title: "ä¾‹å¥",
                quiz_title: "ç»ƒä¹ é¢˜",
                quiz_instruction: "è¯·ä½¿ç”¨æ‹¬å·ä¸­çš„å•è¯å®Œæˆå¥å­ã€‚(ä½¿ç”¨'-ê³  ìˆì–´ìš”'å½¢å¼)",
                check_button: "ç¡®è®¤ç­”æ¡ˆ",
                next_button: "ä¸‹ä¸€é¢˜",
                feedback_correct: "å›ç­”æ­£ç¡®ï¼",
                feedback_incorrect_template: (answer) => `å›ç­”é”™è¯¯ã€‚æ­£ç¡®ç­”æ¡ˆæ˜¯â€œ${answer}â€ã€‚`,
                quiz_end: "ä½ å·²ç»å®Œæˆäº†æ‰€æœ‰é—®é¢˜ï¼åšå¾—å¥½ï¼ğŸ‘"
            }
        };

        const quizData = [
            { type: "ë™ì‚¬", base: "ë³´ë‹¤", sentence: "ìˆ˜ì§„ ì”¨ê°€ í…”ë ˆë¹„ì „ì„ (ë³´ë‹¤).", answer: "ë³´ê³  ìˆì–´ìš”" },
            { type: "ë™ì‚¬", base: "ë“£ë‹¤", sentence: "í•™ìƒë“¤ì´ ìŒì•…ì„ (ë“£ë‹¤).", answer: "ë“£ê³  ìˆì–´ìš”" },
            { type: "ë™ì‚¬", base: "ë§Œë“¤ë‹¤", sentence: "ì–´ë¨¸ë‹ˆê»˜ì„œ ê¹€ë°¥ì„ (ë§Œë“¤ë‹¤).", answer: "ë§Œë“¤ê³  ìˆì–´ìš”" },
            { type: "ë™ì‚¬", base: "ì½ë‹¤", sentence: "ì•„ë²„ì§€ê°€ ì‹ ë¬¸ì„ (ì½ë‹¤).", answer: "ì½ê³  ìˆì–´ìš”" },
            { type: "ë™ì‚¬", base: "ìë‹¤", sentence: "ì•„ê¸°ê°€ ì¹¨ëŒ€ì—ì„œ (ìë‹¤).", answer: "ìê³  ìˆì–´ìš”" },
            { type: "ë™ì‚¬", base: "ì“°ë‹¤", sentence: "ì €ëŠ” ì§€ê¸ˆ ëª¨ìë¥¼ (ì“°ë‹¤).", answer: "ì“°ê³  ìˆì–´ìš”" },
        ];

        let currentQuestionIndex = 0;
        let currentLang = 'ko';

        const quizContainer = document.getElementById('quiz-container');
        const checkBtn = document.getElementById('check-btn');
        const nextBtn = document.getElementById('next-btn');
        const langSelector = document.getElementById('lang-selector');

        function changeView(viewId) {
            document.querySelectorAll('main > div').forEach(view => view.classList.add('hidden'));
            document.getElementById(`${viewId}-view`).classList.remove('hidden');

            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelector(`[onclick="changeView('${viewId}')"]`).classList.add('active');
            
            if (viewId === 'quiz') {
                currentQuestionIndex = 0;
                loadQuestion();
            }
        }

        function changeLanguage() {
            currentLang = langSelector.value;
            const langData = translations[currentLang];
            document.querySelectorAll('[data-key]').forEach(el => {
                const key = el.dataset.key;
                if (langData[key]) {
                    el.innerHTML = langData[key];
                }
            });
             if (document.getElementById('quiz-view').style.display !== 'none') {
                const currentQuestion = quizData[currentQuestionIndex];
                const feedbackContainer = document.getElementById('feedback-container');
                if (feedbackContainer.classList.contains('feedback-incorrect')) {
                     feedbackContainer.innerHTML = langData.feedback_incorrect_template(currentQuestion.answer);
                } else if(feedbackContainer.classList.contains('feedback-correct')) {
                    feedbackContainer.textContent = langData.feedback_correct;
                }
            }
        }
        
        function loadQuestion() {
            const currentQuestion = quizData[currentQuestionIndex];
            quizContainer.innerHTML = `
                <p class="text-sm font-bold text-emerald-600 mb-2">${currentQuestion.type}</p>
                <p class="text-lg text-gray-800 mb-3">${currentQuestionIndex + 1}. ${currentQuestion.sentence}</p>
                <div class="flex items-center space-x-2">
                    <input type="text" id="user-answer" class="quiz-input flex-grow" placeholder="...">
                </div>
                <div id="feedback-container" class="feedback"></div>
            `;
            const input = document.getElementById('user-answer');
            input.addEventListener('keydown', (e) => {
                if(e.key === 'Enter') checkAnswer();
            });
            input.focus();
            hideFeedback();
            nextBtn.classList.add('hidden');
            checkBtn.classList.remove('hidden');
        }
        
        function hideFeedback() {
             const feedbackContainer = document.getElementById('feedback-container');
             feedbackContainer.textContent = '';
             feedbackContainer.className = 'feedback';
        }

        function checkAnswer() {
            const userAnswer = document.getElementById('user-answer').value.trim();
            const correctAnswer = quizData[currentQuestionIndex].answer;
            const feedbackContainer = document.getElementById('feedback-container');
            const langData = translations[currentLang];

            if (userAnswer === correctAnswer) {
                feedbackContainer.textContent = langData.feedback_correct;
                feedbackContainer.className = 'feedback feedback-correct';
            } else {
                feedbackContainer.innerHTML = langData.feedback_incorrect_template(correctAnswer);
                feedbackContainer.className = 'feedback feedback-incorrect';
            }
            nextBtn.classList.remove('hidden');
            checkBtn.classList.add('hidden');
        }
        
        function nextQuestion() {
            currentQuestionIndex++;
            if (currentQuestionIndex < quizData.length) {
                loadQuestion();
            } else {
                quizContainer.innerHTML = `
                    <p class="text-xl font-bold text-center text-emerald-600">${translations[currentLang].quiz_end}</p>
                `;
                checkBtn.style.display = 'none';
                nextBtn.style.display = 'none';
            }
        }
        
        langSelector.addEventListener('change', changeLanguage);
        checkBtn.addEventListener('click', checkAnswer);
        nextBtn.addEventListener('click', nextQuestion);

        // Initial load
        window.onload = () => {
            changeLanguage();
            changeView('explanation');
        };
    </script>
</body>
</html>
