<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í•œêµ­ì–´ ì´ë©”ì¼ ì“°ê¸° ì—°ìŠµ (ê²©ì‹ í‘œí˜„)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f0fdf4; /* Light green background */
        }
        .tab-active {
            border-bottom: 3px solid #15803d; /* Green-700 */
            color: #15803d;
            font-weight: 700;
        }
        .tab-inactive {
            color: #6b7280;
            font-weight: 500;
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-green-50 min-h-screen pb-10">

    <!-- Header -->
    <header class="bg-white shadow-md sticky top-0 z-10">
        <div class="max-w-3xl mx-auto px-4 py-4 flex items-center justify-between">
            <div>
                <h1 class="text-xl md:text-2xl font-bold text-green-800 flex items-center">
                    <i class="fas fa-envelope-open-text mr-2"></i>
                    <span id="ui-title">ì´ë©”ì¼ ì“°ê¸° ì—°ìŠµ</span>
                </h1>
                <span id="ui-subtitle" class="text-sm text-green-600 font-medium bg-green-100 px-3 py-1 rounded-full inline-block mt-1">ì¤‘ê¸‰ í•œêµ­ì–´</span>
            </div>
            
            <!-- Language Toggle -->
            <button onclick="toggleLanguage()" class="flex items-center space-x-2 bg-gray-100 hover:bg-gray-200 px-3 py-2 rounded-lg transition-colors border border-gray-300">
                <i class="fas fa-globe text-gray-600"></i>
                <span id="lang-label" class="text-sm font-bold text-gray-700">Tiáº¿ng Viá»‡t</span>
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-3xl mx-auto px-4 py-6">
        
        <!-- Introduction -->
        <div class="bg-white rounded-lg shadow-sm p-6 mb-6 border-l-4 border-green-500">
            <h2 id="ui-guide-title" class="text-lg font-bold text-gray-800 mb-2">í•™ìŠµ ì•ˆë‚´</h2>
            <p id="ui-guide-desc" class="text-gray-600 text-sm md:text-base leading-relaxed">
                ì œì‹œëœ <span class="text-red-500 font-bold">ë°˜ë§ ë¬¸ì¥</span>ì„ êµìˆ˜ë‹˜ì´ë‚˜ ë‹´ë‹¹ìì—ê²Œ ë³´ë‚´ëŠ” <span class="text-green-600 font-bold">ê²©ì‹ ìˆëŠ” ì´ë©”ì¼ í‘œí˜„</span>ìœ¼ë¡œ ê³ ì³ ì¨ ë³´ì„¸ìš”.<br>
                ì£¼ì¸ê³µì˜ ì´ë¦„ì€ <strong>'íì—‰'</strong>ì…ë‹ˆë‹¤.
            </p>
        </div>

        <!-- Tabs -->
        <div class="flex space-x-4 border-b border-gray-200 mb-6 overflow-x-auto">
            <button onclick="switchTab('reservation')" id="tab-reservation" class="tab-active py-2 px-4 whitespace-nowrap transition-colors duration-200">
                1. ì˜ˆì•½ ë³€ê²½ ë¬¸ì˜
            </button>
            <button onclick="switchTab('recommendation')" id="tab-recommendation" class="tab-inactive py-2 px-4 whitespace-nowrap transition-colors duration-200 hover:text-green-600">
                2. ì¶”ì²œì„œ ë¶€íƒ
            </button>
            <button onclick="switchTab('feedback')" id="tab-feedback" class="tab-inactive py-2 px-4 whitespace-nowrap transition-colors duration-200 hover:text-green-600">
                3. ì“°ê¸° í”¼ë“œë°±
            </button>
        </div>

        <!-- Question Container -->
        <div id="questions-container" class="space-y-6">
            <!-- Questions will be injected here via JavaScript -->
        </div>

        <!-- Bottom Reset -->
        <div class="mt-8 text-center">
            <button onclick="resetAll()" class="text-sm text-gray-500 hover:text-green-600 underline flex items-center justify-center mx-auto">
                <i class="fas fa-redo mr-1"></i><span id="ui-reset">ëª¨ë“  ì…ë ¥ ì´ˆê¸°í™”</span>
            </button>
        </div>

    </main>

    <script>
        let currentLang = 'ko'; // 'ko' or 'vi'

        const uiTranslations = {
            ko: {
                title: "ì´ë©”ì¼ ì“°ê¸° ì—°ìŠµ",
                subtitle: "ì¤‘ê¸‰ í•œêµ­ì–´",
                guideTitle: "í•™ìŠµ ì•ˆë‚´",
                guideDesc: `ì œì‹œëœ <span class="text-red-500 font-bold">ë°˜ë§ ë¬¸ì¥</span>ì„ êµìˆ˜ë‹˜ì´ë‚˜ ë‹´ë‹¹ìì—ê²Œ ë³´ë‚´ëŠ” <span class="text-green-600 font-bold">ê²©ì‹ ìˆëŠ” ì´ë©”ì¼ í‘œí˜„</span>ìœ¼ë¡œ ê³ ì³ ì¨ ë³´ì„¸ìš”.<br>ì£¼ì¸ê³µì˜ ì´ë¦„ì€ <strong>'íì—‰'</strong>ì…ë‹ˆë‹¤.`,
                tab1: "1. ì˜ˆì•½ ë³€ê²½ ë¬¸ì˜",
                tab2: "2. ì¶”ì²œì„œ ë¶€íƒ",
                tab3: "3. ì“°ê¸° í”¼ë“œë°±",
                reset: "ëª¨ë“  ì…ë ¥ ì´ˆê¸°í™”",
                questionLabel: "ë¬¸ì œ",
                informalLabel: "ë°˜ë§ í‘œí˜„ (ì¹œêµ¬ì—ê²Œ):",
                formalLabel: "ê²©ì‹ ìˆëŠ” í‘œí˜„ (êµìˆ˜ë‹˜/ë‹´ë‹¹ìì—ê²Œ):",
                placeholder: "ì—¬ê¸°ì— ì •ì¤‘í•œ í‘œí˜„ìœ¼ë¡œ ë°”ê¿” ì¨ë³´ì„¸ìš”...",
                checkBtn: "ì •ë‹µ í™•ì¸",
                answerLabel: "ëª¨ë²” ë‹µì•ˆ:",
                resetConfirm: "ì‘ì„±í•œ ë‚´ìš©ì„ ëª¨ë‘ ì§€ìš°ì‹œê² ìŠµë‹ˆê¹Œ?"
            },
            vi: {
                title: "Luyá»‡n viáº¿t Email",
                subtitle: "Tiáº¿ng HÃ n trung cáº¥p",
                guideTitle: "HÆ°á»›ng dáº«n há»c táº­p",
                guideDesc: `HÃ£y viáº¿t láº¡i cÃ¡c <span class="text-red-500 font-bold">cÃ¢u vÄƒn nÃ³i thÃ¢n máº­t</span> dÆ°á»›i Ä‘Ã¢y thÃ nh <span class="text-green-600 font-bold">vÄƒn phong email trang trá»ng</span> gá»­i cho giÃ¡o sÆ° hoáº·c ngÆ°á»i phá»¥ trÃ¡ch.<br>TÃªn nhÃ¢n váº­t chÃ­nh lÃ  <strong>'HÆ°Æ¡ng'</strong>.`,
                tab1: "1. Há»i vá» thay Ä‘á»•i lá»‹ch háº¹n",
                tab2: "2. Nhá» viáº¿t thÆ° giá»›i thiá»‡u",
                tab3: "3. Nhá» pháº£n há»“i bÃ i viáº¿t",
                reset: "XÃ³a táº¥t cáº£ ná»™i dung",
                questionLabel: "CÃ¢u há»i",
                informalLabel: "CÃ¡ch nÃ³i thÃ¢n máº­t (vá»›i báº¡n bÃ¨):",
                formalLabel: "CÃ¡ch nÃ³i trang trá»ng (vá»›i giÃ¡o sÆ°/ngÆ°á»i phá»¥ trÃ¡ch):",
                placeholder: "HÃ£y thá»­ viáº¿t láº¡i báº±ng biá»ƒu hiá»‡n trang trá»ng táº¡i Ä‘Ã¢y...",
                checkBtn: "Kiá»ƒm tra Ä‘Ã¡p Ã¡n",
                answerLabel: "ÄÃ¡p Ã¡n máº«u:",
                resetConfirm: "Báº¡n cÃ³ cháº¯c cháº¯n muá»‘n xÃ³a táº¥t cáº£ ná»™i dung Ä‘Ã£ viáº¿t khÃ´ng?"
            }
        };

        // Data for the scenarios including Vietnamese translations
        const scenarios = {
            reservation: [
                {
                    id: 'res-1',
                    context: { ko: 'ìê¸°ì†Œê°œ', vi: 'Giá»›i thiá»‡u báº£n thÃ¢n' },
                    original: 'ì•ˆë…•? ë‚˜ 12ì›” 20ì¼ 2ì‹œì— ì˜ˆì•½í•œ íì—‰ì¸ë°.',
                    answer: 'ì•ˆë…•í•˜ì‹­ë‹ˆê¹Œ? 12ì›” 20ì¼ 2ì‹œì— ì˜ˆì•½í•œ íì—‰ì…ë‹ˆë‹¤.',
                    tip: { 
                        ko: "'ì•ˆë…•?' â†’ 'ì•ˆë…•í•˜ì‹­ë‹ˆê¹Œ?', 'ë‚˜' â†’ 'ì €'ë¡œ ë°”ê¾¸ì–´ ì •ì¤‘í•˜ê²Œ ì‹œì‘í•©ë‹ˆë‹¤.", 
                        vi: "Báº¯t Ä‘áº§u má»™t cÃ¡ch trang trá»ng báº±ng cÃ¡ch Ä‘á»•i 'ì•ˆë…•?' thÃ nh 'ì•ˆë…•í•˜ì‹­ë‹ˆê¹Œ?', 'ë‚˜' thÃ nh 'ì €'." 
                    }
                },
                {
                    id: 'res-2',
                    context: { ko: 'ì‚¬ìœ  ì„¤ëª…', vi: 'Giáº£i thÃ­ch lÃ½ do' },
                    original: 'ê·¸ë‚  ê°‘ìê¸° ê¸‰í•œ ì¼ì´ ìƒê²¨ì„œ ëª» ê°ˆ ê²ƒ ê°™ì•„.',
                    answer: 'ê·¸ë‚  ê°‘ìê¸° ê¸‰í•œ ì‚¬ì •ì´ ìƒê²¨ì„œ ë°©ë¬¸í•˜ê¸° ì–´ë ¤ìš¸ ê²ƒ ê°™ìŠµë‹ˆë‹¤.',
                    tip: { 
                        ko: "'ì¼' â†’ 'ì‚¬ì •', 'ëª» ê°€ë‹¤' â†’ 'ë°©ë¬¸í•˜ê¸° ì–´ë µë‹¤'ì™€ ê°™ì€ ê³ ê¸‰ ì–´íœ˜ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.", 
                        vi: "Sá»­ dá»¥ng tá»« vá»±ng cao cáº¥p nhÆ° 'ì¼' â†’ 'ì‚¬ì •', 'ëª» ê°€ë‹¤' â†’ 'ë°©ë¬¸í•˜ê¸° ì–´ë µë‹¤'." 
                    }
                },
                {
                    id: 'res-3',
                    context: { ko: 'ë³€ê²½ ìš”ì²­', vi: 'YÃªu cáº§u thay Ä‘á»•i' },
                    original: 'ì˜ˆì•½ì„ ë‹¤ìŒ ë‚ ì¸ 21ì¼ë¡œ ë¯¸ë£¨ê³  ì‹¶ì–´.',
                    answer: 'ì˜ˆì•½ì„ ë‹¤ìŒ ë‚ ì¸ 21ì¼ë¡œ ë³€ê²½í•˜ê³ (ì—°ê¸°í•˜ê³ ) ì‹¶ìŠµë‹ˆë‹¤.',
                    tip: { 
                        ko: "'ë¯¸ë£¨ë‹¤' ëŒ€ì‹  'ë³€ê²½í•˜ë‹¤' ë˜ëŠ” 'ì—°ê¸°í•˜ë‹¤'ë¥¼ ì“°ë©´ ë” ê²©ì‹ ìˆì–´ ë³´ì…ë‹ˆë‹¤.", 
                        vi: "Sá»­ dá»¥ng 'ë³€ê²½í•˜ë‹¤' hoáº·c 'ì—°ê¸°í•˜ë‹¤' thay vÃ¬ 'ë¯¸ë£¨ë‹¤' sáº½ trang trá»ng hÆ¡n." 
                    }
                },
                {
                    id: 'res-4',
                    context: { ko: 'ê°€ëŠ¥ ì—¬ë¶€', vi: 'Há»i kháº£ nÄƒng' },
                    original: 'í˜¹ì‹œ ì˜¤í›„ 4ì‹œì¯¤ìœ¼ë¡œ ì‹œê°„ì„ ë°”ê¿”ë„ ë ê¹Œ?',
                    answer: 'í˜¹ì‹œ ì˜¤í›„ 4ì‹œì¯¤ìœ¼ë¡œ ì‹œê°„ì„ ë³€ê²½í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ê² ìŠµë‹ˆê¹Œ?',
                    tip: { 
                        ko: "'~ì•„/ì–´ë„ ë¼?' ëŒ€ì‹  '~ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ê² ìŠµë‹ˆê¹Œ?'ë¡œ ì™„ê³¡í•˜ê²Œ ë¬»ìŠµë‹ˆë‹¤.", 
                        vi: "Há»i má»™t cÃ¡ch nháº¹ nhÃ ng báº±ng '~ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ê² ìŠµë‹ˆê¹Œ?' thay vÃ¬ '~ì•„/ì–´ë„ ë¼?'." 
                    }
                },
                {
                    id: 'res-5',
                    context: { ko: 'ëŒ€ì•ˆ ìš”ì²­', vi: 'YÃªu cáº§u phÆ°Æ¡ng Ã¡n thay tháº¿' },
                    original: 'ê·¸ë•Œ ì•ˆ ë˜ë©´ ì–¸ì œ ë˜ëŠ”ì§€ ì‹œê°„ ì¢€ ì•Œë ¤ ì¤˜.',
                    answer: 'ê·¸ ì‹œê°„ì´ ì–´ë ¤ìš°ì‹œë©´ ê°€ëŠ¥í•œ ì‹œê°„ì„ ì•Œë ¤ ì£¼ì‹­ì‹œì˜¤.',
                    tip: { 
                        ko: "'ì•ˆ ë˜ë©´' â†’ 'ì–´ë ¤ìš°ì‹œë©´', 'ì•Œë ¤ ì¤˜' â†’ 'ì•Œë ¤ ì£¼ì‹­ì‹œì˜¤'ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.", 
                        vi: "Sá»­ dá»¥ng 'ì•ˆ ë˜ë©´' â†’ 'ì–´ë ¤ìš°ì‹œë©´', 'ì•Œë ¤ ì¤˜' â†’ 'ì•Œë ¤ ì£¼ì‹­ì‹œì˜¤'." 
                    }
                },
                {
                    id: 'res-6',
                    context: { ko: 'ë§ˆë¬´ë¦¬', vi: 'Káº¿t thÃºc' },
                    original: 'ìê¾¸ ë°”ê¿”ì„œ ë¯¸ì•ˆí•´. ë‹µì¥ ê¸°ë‹¤ë¦´ê²Œ.',
                    answer: 'ë²ˆê±°ë¡­ê²Œ í•´ ë“œë ¤ ì£„ì†¡í•©ë‹ˆë‹¤. íšŒì‹  ê¸°ë‹¤ë¦¬ê² ìŠµë‹ˆë‹¤.',
                    tip: { 
                        ko: "'ë¯¸ì•ˆí•´' â†’ 'ì£„ì†¡í•©ë‹ˆë‹¤', 'ë‹µì¥' â†’ 'íšŒì‹ 'ìœ¼ë¡œ í‘œí˜„í•©ë‹ˆë‹¤.", 
                        vi: "Biá»ƒu hiá»‡n báº±ng 'ë¯¸ì•ˆí•´' â†’ 'ì£„ì†¡í•©ë‹ˆë‹¤', 'ë‹µì¥' â†’ 'íšŒì‹ '." 
                    }
                }
            ],
            recommendation: [
                {
                    id: 'rec-1',
                    context: { ko: 'ì¸ì‚¬', vi: 'ChÃ o há»i' },
                    original: 'êµìˆ˜ë‹˜ ì•ˆë…•? ë‚˜ í•œêµ­ì–´ê³¼ 4í•™ë…„ íì—‰ì´ì•¼.',
                    answer: 'êµìˆ˜ë‹˜, ì•ˆë…•í•˜ì‹­ë‹ˆê¹Œ? ì €ëŠ” í•œêµ­ì–´ê³¼ 4í•™ë…„ íì—‰ì…ë‹ˆë‹¤.',
                    tip: { 
                        ko: "êµìˆ˜ë‹˜ê»˜ëŠ” ë°˜ë“œì‹œ 'ì•ˆë…•í•˜ì‹­ë‹ˆê¹Œ'ì™€ 'ì €ëŠ” ~ì…ë‹ˆë‹¤'ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.", 
                        vi: "Äá»‘i vá»›i giÃ¡o sÆ°, nháº¥t Ä‘á»‹nh pháº£i dÃ¹ng 'ì•ˆë…•í•˜ì‹­ë‹ˆê¹Œ' vÃ  'ì €ëŠ” ~ì…ë‹ˆë‹¤'." 
                    }
                },
                {
                    id: 'rec-2',
                    context: { ko: 'ë°°ê²½ ì„¤ëª…', vi: 'Giáº£i thÃ­ch bá»‘i cáº£nh' },
                    original: 'ì§€ë‚œ í•™ê¸°ì— êµìˆ˜ë‹˜ ìˆ˜ì—… ì¬ë¯¸ìˆê²Œ ë“¤ì—ˆì–´.',
                    answer: 'ì§€ë‚œ í•™ê¸°ì— êµìˆ˜ë‹˜ ìˆ˜ì—…ì„ ê°ëª… ê¹Šê²Œ(ì¬ë¯¸ìˆê²Œ) ë“¤ì—ˆìŠµë‹ˆë‹¤.',
                    tip: { 
                        ko: "ê³¼ê±°ì˜ ê²½í—˜ì„ ì´ì•¼ê¸°í•  ë•Œë„ ê²©ì‹ì²´ ì¢…ê²° ì–´ë¯¸ '~ìŠµë‹ˆë‹¤'ë¥¼ ì”ë‹ˆë‹¤.", 
                        vi: "Khi nÃ³i vá» kinh nghiá»‡m quÃ¡ khá»©, cÅ©ng sá»­ dá»¥ng Ä‘uÃ´i cÃ¢u trang trá»ng '~ìŠµë‹ˆë‹¤'." 
                    }
                },
                {
                    id: 'rec-3',
                    context: { ko: 'ëª©ì ', vi: 'Má»¥c Ä‘Ã­ch' },
                    original: 'ë‚˜ ì´ë²ˆì— ëŒ€í•™ì›ì— ê°€ë ¤ê³  ì¤€ë¹„ ì¤‘ì´ì•¼.',
                    answer: 'ì €ëŠ” ì´ë²ˆì— ëŒ€í•™ì› ì§„í•™ì„ ì¤€ë¹„í•˜ê³  ìˆìŠµë‹ˆë‹¤.',
                    tip: { 
                        ko: "'ê°€ë ¤ê³ ' ëŒ€ì‹  'ì§„í•™ì„'ì´ë¼ëŠ” í•œìì–´ë¥¼ ì“°ë©´ ë” ì „ë¬¸ì ìœ¼ë¡œ ë“¤ë¦½ë‹ˆë‹¤.", 
                        vi: "DÃ¹ng tá»« HÃ¡n HÃ n 'ì§„í•™ì„' thay vÃ¬ 'ê°€ë ¤ê³ ' sáº½ nghe chuyÃªn nghiá»‡p hÆ¡n." 
                    }
                },
                {
                    id: 'rec-4',
                    context: { ko: 'ìš”ì²­', vi: 'YÃªu cáº§u' },
                    original: 'ì§€ì› ì„œë¥˜ì— ë„£ì„ ì¶”ì²œì„œê°€ í•„ìš”í•œë° êµìˆ˜ë‹˜ì´ ì¢€ ì¨ ì¤˜.',
                    answer: 'ì§€ì› ì„œë¥˜ì— í•„ìš”í•œ ì¶”ì²œì„œ ì‘ì„±ì„ ë¶€íƒë“œë ¤ë„ ë˜ê² ìŠµë‹ˆê¹Œ?',
                    tip: { 
                        ko: "ë¶€íƒí•  ë•ŒëŠ” ì˜ë¬¸í˜•(~ê² ìŠµë‹ˆê¹Œ?)ìœ¼ë¡œ ì •ì¤‘í•˜ê²Œ ì˜ì‚¬ë¥¼ ë¬»ìŠµë‹ˆë‹¤.", 
                        vi: "Khi nhá» váº£, hÃ£y há»i Ã½ kiáº¿n má»™t cÃ¡ch trang trá»ng báº±ng dáº¡ng nghi váº¥n (~ê² ìŠµë‹ˆê¹Œ?)." 
                    }
                },
                {
                    id: 'rec-5',
                    context: { ko: 'ìë£Œ ì²¨ë¶€', vi: 'ÄÃ­nh kÃ¨m tÃ i liá»‡u' },
                    original: 'ë‚´ ì„±ì í‘œë‘ ìê¸°ì†Œê°œì„œ íŒŒì¼ë¡œ ê°™ì´ ë³´ë‚¼ê²Œ.',
                    answer: 'ì œ ì„±ì í‘œì™€ ìê¸°ì†Œê°œì„œë¥¼ íŒŒì¼ë¡œ ì²¨ë¶€í•´ ë“œë¦½ë‹ˆë‹¤.',
                    tip: { 
                        ko: "'ë³´ë‚¼ê²Œ' ëŒ€ì‹  'ì²¨ë¶€í•´ ë“œë¦½ë‹ˆë‹¤'ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.", 
                        vi: "Sá»­ dá»¥ng 'ì²¨ë¶€í•´ ë“œë¦½ë‹ˆë‹¤' thay vÃ¬ 'ë³´ë‚¼ê²Œ'." 
                    }
                },
                {
                    id: 'rec-6',
                    context: { ko: 'ë§ˆë¬´ë¦¬', vi: 'Káº¿t thÃºc' },
                    original: 'ë°”ì  í…ë° ë¶€íƒí•´ì„œ ë¯¸ì•ˆí•˜ê³  ê³ ë§ˆì›Œ.',
                    answer: 'ë°”ì˜ì‹œê² ì§€ë§Œ ë¶€íƒë“œë¦¬ê² ìŠµë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤.',
                    tip: { 
                        ko: "'ë°”ì˜ì‹œê² ì§€ë§Œ'ì€ ë¶€íƒí•  ë•Œ ì“°ëŠ” ê´€ìš©ì ì¸ ì •ì¤‘í•œ í‘œí˜„ì…ë‹ˆë‹¤.", 
                        vi: "'ë°”ì˜ì‹œê² ì§€ë§Œ' lÃ  biá»ƒu hiá»‡n trang trá»ng mang tÃ­nh quÃ¡n dá»¥ng ngá»¯ khi nhá» váº£." 
                    }
                }
            ],
            feedback: [
                {
                    id: 'feed-1',
                    context: { ko: 'ìš©ê±´', vi: 'Viá»‡c cáº§n nÃ³i' },
                    original: 'ì„ ìƒë‹˜, ë‚˜ ì´ë²ˆ ì£¼ ì“°ê¸° ìˆ™ì œ ë‹¤ í•´ì„œ íŒŒì¼ ë³´ë‚´.',
                    answer: 'ì„ ìƒë‹˜, ì´ë²ˆ ì£¼ ì“°ê¸° ê³¼ì œë¥¼ ì‘ì„±í•˜ì—¬ íŒŒì¼ì„ ë³´ëƒ…ë‹ˆë‹¤.',
                    tip: { 
                        ko: "'ìˆ™ì œ' â†’ 'ê³¼ì œ', 'ë‹¤ í•´ì„œ' â†’ 'ì‘ì„±í•˜ì—¬'ë¡œ ë°”ê¿‰ë‹ˆë‹¤.", 
                        vi: "Äá»•i 'ìˆ™ì œ' â†’ 'ê³¼ì œ', 'ë‹¤ í•´ì„œ' â†’ 'ì‘ì„±í•˜ì—¬'." 
                    }
                },
                {
                    id: 'feed-2',
                    context: { ko: 'ìš”ì²­ 1', vi: 'YÃªu cáº§u 1' },
                    original: 'ì£¼ì œì— ë§ê²Œ ì˜ ì¼ëŠ”ì§€ í™•ì¸ ì¢€ í•´ ì¤˜.',
                    answer: 'ì£¼ì œì— ë§ê²Œ ì‘ì„±í–ˆëŠ”ì§€ í™•ì¸(ê²€í† )í•´ ì£¼ì‹œê² ìŠµë‹ˆê¹Œ?',
                    tip: { 
                        ko: "'í™•ì¸í•´ ì¤˜'ë³´ë‹¤ëŠ” 'ê²€í† í•´ ì£¼ì‹œê² ìŠµë‹ˆê¹Œ?'ê°€ í›¨ì”¬ ì •ì¤‘í•©ë‹ˆë‹¤.", 
                        vi: "'ê²€í† í•´ ì£¼ì‹œê² ìŠµë‹ˆê¹Œ?' trang trá»ng hÆ¡n nhiá»u so vá»›i 'í™•ì¸í•´ ì¤˜'." 
                    }
                },
                {
                    id: 'feed-3',
                    context: { ko: 'ê³ ì¶© í† ë¡œ', vi: 'BÃ y tá» khÃ³ khÄƒn' },
                    original: 'ì“°ë‹¤ê°€ ë‹¨ì–´ê°€ ì˜ ìƒê°ì´ ì•ˆ ë‚˜ì„œ ì¢€ í˜ë“¤ì—ˆì–´.',
                    answer: 'ì‘ì„± ê³¼ì •ì—ì„œ ì–´íœ˜ ì„ íƒì— ì–´ë ¤ì›€ì´ ì¡°ê¸ˆ ìˆì—ˆìŠµë‹ˆë‹¤.',
                    tip: { 
                        ko: "'ìƒê°ì´ ì•ˆ ë‚˜ì„œ'ë¥¼ 'ì–´íœ˜ ì„ íƒì— ì–´ë ¤ì›€ì´ ìˆì—ˆë‹¤'ë¡œ í‘œí˜„í•´ ë³´ì„¸ìš”.", 
                        vi: "HÃ£y thá»­ diá»…n Ä‘áº¡t 'ìƒê°ì´ ì•ˆ ë‚˜ì„œ' thÃ nh 'ì–´íœ˜ ì„ íƒì— ì–´ë ¤ì›€ì´ ìˆì—ˆë‹¤'." 
                    }
                },
                {
                    id: 'feed-4',
                    context: { ko: 'ìš”ì²­ 2', vi: 'YÃªu cáº§u 2' },
                    original: 'ë¬¸ë²• í‹€ë¦° ê±°ë‚˜ ì–´ìƒ‰í•œ ë¬¸ì¥ ìˆìœ¼ë©´ ê³ ì³ ì¤˜.',
                    answer: 'ë¬¸ë²• ì˜¤ë¥˜ë‚˜ ì–´ìƒ‰í•œ ë¬¸ì¥ì´ ìˆë‹¤ë©´ ìˆ˜ì •í•´ ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤.',
                    tip: { 
                        ko: "'ê³ ì³ ì¤˜' ëŒ€ì‹  'ìˆ˜ì •í•´ ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤'ë¼ê³  ì”ë‹ˆë‹¤.", 
                        vi: "Viáº¿t 'ìˆ˜ì •í•´ ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤' thay vÃ¬ 'ê³ ì³ ì¤˜'." 
                    }
                },
                {
                    id: 'feed-5',
                    context: { ko: 'ì¼ì • í™•ì¸', vi: 'XÃ¡c nháº­n lá»‹ch trÃ¬nh' },
                    original: 'ë‹¤ìŒ ìˆ˜ì—… ì‹œê°„ ì „ê¹Œì§€ ë³´ë‚´ ì¤„ ìˆ˜ ìˆì–´?',
                    answer: 'ë‹¤ìŒ ìˆ˜ì—… ì‹œê°„ ì „ê¹Œì§€ í”¼ë“œë°±ì„ ë°›ì„ ìˆ˜ ìˆê² ìŠµë‹ˆê¹Œ?',
                    tip: { 
                        ko: "ìƒëŒ€ë°©ì˜ ê°€ëŠ¥ ì—¬ë¶€ë¥¼ ì •ì¤‘í•˜ê²Œ ë¬¼ì–´ë´…ë‹ˆë‹¤.", 
                        vi: "Há»i kháº£ nÄƒng cá»§a Ä‘á»‘i phÆ°Æ¡ng má»™t cÃ¡ch trang trá»ng." 
                    }
                },
                {
                    id: 'feed-6',
                    context: { ko: 'ë§ˆë¬´ë¦¬', vi: 'Káº¿t thÃºc' },
                    original: 'í•­ìƒ ì˜ ê°€ë¥´ì³ ì¤˜ì„œ ì •ë§ ê³ ë§ˆì›Œ.',
                    answer: 'í•­ìƒ ì§€ë„í•´ ì£¼ì…”ì„œ ì§„ì‹¬ìœ¼ë¡œ ê°ì‚¬í•©ë‹ˆë‹¤.',
                    tip: { 
                        ko: "'ê°€ë¥´ì³ ì¤˜ì„œ' â†’ 'ì§€ë„í•´ ì£¼ì…”ì„œ', 'ê³ ë§ˆì›Œ' â†’ 'ê°ì‚¬í•©ë‹ˆë‹¤'ë¥¼ ì”ë‹ˆë‹¤.", 
                        vi: "DÃ¹ng 'ê°€ë¥´ì³ ì¤˜ì„œ' â†’ 'ì§€ë„í•´ ì£¼ì…”ì„œ', 'ê³ ë§ˆì›Œ' â†’ 'ê°ì‚¬í•©ë‹ˆë‹¤'." 
                    }
                }
            ]
        };

        let currentTab = 'reservation';

        function toggleLanguage() {
            currentLang = currentLang === 'ko' ? 'vi' : 'ko';
            updateUI();
            renderQuestions(); // Re-render questions to update tips and context
        }

        function updateUI() {
            const texts = uiTranslations[currentLang];
            const btnLabel = document.getElementById('lang-label');
            
            // Button label shows the OTHER language to switch to (or just current, let's keep it current for clarity)
            // Actually, usually toggle buttons show the target language or current. 
            // Let's make the button text show "í•œêµ­ì–´" when in Vietnamese mode, and "Tiáº¿ng Viá»‡t" when in Korean mode.
            btnLabel.textContent = currentLang === 'ko' ? 'Tiáº¿ng Viá»‡t' : 'í•œêµ­ì–´';

            document.getElementById('ui-title').textContent = texts.title;
            document.getElementById('ui-subtitle').textContent = texts.subtitle;
            document.getElementById('ui-guide-title').textContent = texts.guideTitle;
            document.getElementById('ui-guide-desc').innerHTML = texts.guideDesc;
            document.getElementById('tab-reservation').textContent = texts.tab1;
            document.getElementById('tab-recommendation').textContent = texts.tab2;
            document.getElementById('tab-feedback').textContent = texts.tab3;
            document.getElementById('ui-reset').textContent = texts.reset;
        }

        function switchTab(tabName) {
            // Update Tab Styles
            ['reservation', 'recommendation', 'feedback'].forEach(t => {
                const btn = document.getElementById(`tab-${t}`);
                if (t === tabName) {
                    btn.classList.remove('tab-inactive');
                    btn.classList.add('tab-active');
                } else {
                    btn.classList.remove('tab-active');
                    btn.classList.add('tab-inactive');
                }
            });

            currentTab = tabName;
            renderQuestions();
        }

        function renderQuestions() {
            const container = document.getElementById('questions-container');
            // Save current input values before re-rendering
            const currentInputs = {};
            document.querySelectorAll('textarea').forEach(el => {
                currentInputs[el.id] = el.value;
            });
            // Save visible answers
            const visibleAnswers = [];
            document.querySelectorAll('[id^="answer-"]').forEach(el => {
                if(!el.classList.contains('hidden')) {
                    visibleAnswers.push(el.id);
                }
            });

            container.innerHTML = '';
            const data = scenarios[currentTab];
            const texts = uiTranslations[currentLang];

            data.forEach((item, index) => {
                const contextText = item.context[currentLang];
                const tipText = item.tip[currentLang];

                const html = `
                    <div class="bg-white rounded-xl shadow-md overflow-hidden border border-gray-100 fade-in" style="animation-delay: ${index * 0.1}s">
                        <div class="bg-gray-50 px-5 py-3 border-b border-gray-100 flex justify-between items-center">
                            <span class="text-xs font-bold text-gray-500 uppercase tracking-wide">Q${index + 1}. ${contextText}</span>
                            <span class="text-xs text-green-600 bg-green-100 px-2 py-0.5 rounded">${texts.questionLabel}</span>
                        </div>
                        <div class="p-5">
                            <div class="mb-4">
                                <p class="text-gray-500 text-sm mb-1">${texts.informalLabel}</p>
                                <div class="text-lg font-medium text-gray-800 bg-yellow-50 p-3 rounded-lg border border-yellow-100">
                                    "${item.original}"
                                </div>
                            </div>
                            
                            <div class="mb-4">
                                <label class="block text-sm font-medium text-green-700 mb-1">
                                    <i class="fas fa-pencil-alt mr-1"></i>${texts.formalLabel}
                                </label>
                                <textarea id="input-${item.id}" rows="2" 
                                    class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none transition-all placeholder-gray-300"
                                    placeholder="${texts.placeholder}"></textarea>
                            </div>

                            <div class="flex items-center justify-between">
                                <button onclick="toggleAnswer('${item.id}')" 
                                    class="bg-green-600 hover:bg-green-700 text-white text-sm font-medium py-2 px-4 rounded-lg transition-colors shadow-sm flex items-center">
                                    <i class="fas fa-check-circle mr-2"></i>${texts.checkBtn}
                                </button>
                            </div>

                            <!-- Answer Section (Hidden by default) -->
                            <div id="answer-${item.id}" class="hidden mt-4 pt-4 border-t border-dashed border-gray-200">
                                <div class="bg-green-50 p-4 rounded-lg">
                                    <p class="text-sm text-green-800 font-bold mb-1">ğŸ’¡ ${texts.answerLabel}</p>
                                    <p class="text-green-900 text-lg mb-3">"${item.answer}"</p>
                                    <div class="flex items-start">
                                        <i class="fas fa-info-circle text-green-600 mt-0.5 mr-2"></i>
                                        <p class="text-sm text-green-700">${tipText}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                container.innerHTML += html;
            });

            // Restore inputs and visibility
            Object.keys(currentInputs).forEach(id => {
                const el = document.getElementById(id);
                if(el) el.value = currentInputs[id];
            });
            visibleAnswers.forEach(id => {
                const el = document.getElementById(id);
                if(el) el.classList.remove('hidden');
            });
        }

        function toggleAnswer(id) {
            const answerDiv = document.getElementById(`answer-${id}`);
            if (answerDiv.classList.contains('hidden')) {
                answerDiv.classList.remove('hidden');
                answerDiv.classList.add('fade-in');
            } else {
                answerDiv.classList.add('hidden');
            }
        }

        function resetAll() {
            const texts = uiTranslations[currentLang];
            if(confirm(texts.resetConfirm)) {
                document.querySelectorAll('textarea').forEach(el => el.value = '');
                document.querySelectorAll('[id^="answer-"]').forEach(el => el.classList.add('hidden'));
            }
        }

        // Initialize
        window.onload = function() {
            renderQuestions();
        };

    </script>
</body>
</html>
